% berkshiret1-FSharp.tex
% LaTeX file for F# cheat sheet
% Authors: Tyler Berkshire
%
%   Date    Version   Initials  Comments
%-------------------------------------------
%  31Oct19 01.00.00  TPB      Initial release

\documentclass[10pt,letterpaper]{letter}

% Packages
\usepackage{fancyhdr}           % For header and footer
\usepackage{multicol}           % Allows multicols in tables
\usepackage{tabularx}           % Intelligent column widths
\usepackage{tabulary}           % Used in header and footer
\usepackage{hhline}             % Border under tables
\usepackage{graphicx}           % For images
\usepackage{xcolor}             % For hex colours
\usepackage[T1]{fontenc}        % Without this we get weird character replacements
\usepackage{colortbl}           % For coloured tables
\usepackage{setspace}           % For line height
\usepackage{lastpage}           % Needed for total page number
\usepackage{seqsplit}           % Splits long words.


\pagenumbering{gobble}

% Document Info
\author{Tyler Berkshire}
\pdfinfo{
  /Title (berkshiret1-FSharp.pdf)
  /Author (Tyler Berkshire)
  /Subject (F# Cheat Sheet)
}

% Lengths and widths
\addtolength{\textwidth}{6cm}
\addtolength{\textheight}{1cm}
\addtolength{\hoffset}{-3cm}
\addtolength{\voffset}{-2cm}
\setlength{\tabcolsep}{0.2cm} % Space between columns
\setlength{\headsep}{-12pt} % Reduce space between header and content
\setlength{\headheight}{85pt} % If less, LaTeX automatically increases it

\setlength{\footskip}{35pt} % If less, LaTeX automatically increases it
\renewcommand{\footrulewidth}{0pt} % Remove footer line
\renewcommand{\headrulewidth}{0pt} % Remove header line
\renewcommand{\seqinsert}{\ifmmode\allowbreak\else\-\fi} % Hyphens in seqsplit
% This two commands together give roughly
% the right line height in the tables
\renewcommand{\arraystretch}{1.3}


\onehalfspacing

% Commands
\newcommand{\SetRowColor}[1]{\noalign{\gdef\RowColorName{#1}}\rowcolor{\RowColorName}} % Shortcut for row colour
\newcommand{\mymulticolumn}[3]{\multicolumn{#1}{>{\columncolor{\RowColorName}}#2}{#3}} % For coloured multi-cols
\newcolumntype{x}[1]{>{\raggedright}p{#1}} % New column types for ragged-right paragraph columns
\newcommand{\tn}{\tabularnewline} % Required as custom column type in use

% Font and Colours
\definecolor{HeadBackground}{HTML}{333333}
\definecolor{FootBackground}{HTML}{666666}
\definecolor{TextColor}{HTML}{333333}
\definecolor{DarkBackground}{HTML}{30B9DB}
\definecolor{LightBackground}{HTML}{ccd9e5}
\renewcommand{\familydefault}{\sfdefault}
\color{TextColor}

% Header and Footer

\pagestyle{fancy}
\fancyhead{} % Set header to blank
\fancyhead[L]{
\noindent
    \vspace{5pt}\hspace{0pt}\large{\bf{\textcolor{DarkBackground}{\textrm{The F\# Programming Language: Quick Reference Sheet (Author: Tyler P. Berkshire)}}}} \\}

\hfuzz=20pt
\vfuzz=20pt
\hbadness=10000
\vbadness=\maxdimen

\begin{document}
\raggedright
\raggedcolumns

% Set font size to small. Switch to any value
% from this page to resize cheat sheet text:
% www.emerson.emory.edu/services/latex/latex_169.html
\footnotesize % Small font.

\begin{multicols*}{3}

\begin{tabularx}{5.377cm}{p{5.377 cm} x{0 cm} }

\SetRowColor{DarkBackground}
\mymulticolumn{2}{x{5.377cm}}{\bf\textcolor{white}{Key features}}  \tn

% Row 
\SetRowColor{LightBackground}
Strongly typed with algebraic-style types \tn 

% Row 
\SetRowColor{white}
Easy concurrency \tn 

% Row 
\SetRowColor{LightBackground}
Extensive multi-paradigm features\tn

% Row 
\SetRowColor{white}
Integrated with .NET \tn

% Row 
\SetRowColor{LightBackground}
Metaprogramming\tn


\hhline{>{\arrayrulecolor{DarkBackground}}--}

\end{tabularx}

\par\addvspace{1.3em}

\begin{tabularx}{5.377cm}{p{1.2 cm} x{3.777 cm} }

\SetRowColor{DarkBackground}
\mymulticolumn{2}{x{5.377cm}}{\bf\textcolor{white}{Algebraic Types}}  \tn

% Row 
\SetRowColor{LightBackground}
fun() & Function \tn 

% Row 
\SetRowColor{white}
unit & A function with one range value \tn 

% Row 
\SetRowColor{LightBackground}
type & Keyword to declare custom types \tn 

% Row 
\SetRowColor{white}
(x,y) & Tuples can be heterogeneous \tn 

% Row 
\SetRowColor{LightBackground}
\{x:int, y:float\} & Records are labelled tuples \tn 

% Row 
\SetRowColor{white}
I of int | B of bool & Discriminated unions \tn 

% Row 
\SetRowColor{LightBackground}
<'a> & Single quote denotes generic type \tn 

% Row 
\SetRowColor{white}
Option & The option type is either \textit{Some} or \textit{None} \tn 

% Row 
\SetRowColor{LightBackground}
{[ ]} & Lists are immutable and homogeneous \tn 

% Row 
\SetRowColor{white}
seq\{\} & Sequences use \textit{yield} and \textit{yield!} to create infinite data types \tn 

\hhline{>{\arrayrulecolor{DarkBackground}}--}

\end{tabularx}

\par\addvspace{1.3em}

\begin{tabularx}{5.377cm}{p{1.2 cm} x{3.777 cm} }
\SetRowColor{DarkBackground}
\mymulticolumn{2}{x{5.377cm}}{\bf\textcolor{white}{Core syntax}}  \tn

% Row 
\SetRowColor{LightBackground}
let & Bind value to a name \tn 

% Row 
\SetRowColor{white}
let rec & Recursive definition \tn 

% Row 
\SetRowColor{LightBackground}
//, (**) & Inline and multi-line comments \tn 

% Row 
\SetRowColor{white}
\textit{indentations} & Separates code blocks \tn 

% Row 
\SetRowColor{LightBackground}
\textit{whitespace} & Separates parameters \tn 

\hhline{>{\arrayrulecolor{DarkBackground}}--}
\end{tabularx}
\par\addvspace{1.3em}

\begin{tabularx}{5.377cm}{p{1.7 cm} x{3.277 cm} }
\SetRowColor{DarkBackground}

\mymulticolumn{2}{x{5.377cm}}{\bf\textcolor{white}{Control Flow}}  \tn

% Row 
\SetRowColor{LightBackground}
for x in \{ \} do & Standard for loop \tn 

% Row 
\SetRowColor{white}
while x do & Standard while loop \tn 

% Row 
\SetRowColor{LightBackground}
match x with |... |... & Pattern matching against a discriminated union \tn 

% Row 
\SetRowColor{white}
when & Guards help with complicated pattern matching \tn 

% Row 
\SetRowColor{LightBackground}
|> & Pipes emulate UNIX pipes. Output of the left becomes input of the right \tn 

% Row 
\SetRowColor{white}
<| & Reverse pipe \tn 

% Row 
\SetRowColor{LightBackground}
> > & Function composition returns a function instead of immediately evaluating \tn 

% Row 
\SetRowColor{white}
< < & Reverse function composition \tn 

% Row 
\SetRowColor{LightBackground}
\textit{currying} & Functions can be curried and partially applied \tn 

\hhline{>{\arrayrulecolor{DarkBackground}}--}
\end{tabularx}
\par\addvspace{1.3em}

\begin{tabularx}{5.377cm}{p{1.2 cm} x{3.777 cm} }
\SetRowColor{DarkBackground}
\mymulticolumn{2}{x{5.377cm}}{\bf\textcolor{white}{Metaprogramming}} \tn

% Row 
\SetRowColor{LightBackground}
\textit{quotations} & Compiled into objects representing the program \tn 

% Row 
\SetRowColor{white}
<@ @> & Quotation with type information \tn 

% Row 
\SetRowColor{LightBackground}
<@@ @@> & Quotation without type information \tn 

% Row 
\SetRowColor{white}
Expr<'T> & Resulting type of a quotation \tn 

% Row 
\SetRowColor{LightBackground}
\% & Splice a typed expression into a quotation \tn 

% Row 
\SetRowColor{white}
\%\% & Splice a non-typed expression into a quotation \tn 

% Row 
\SetRowColor{LightBackground}
Patterns & Active pattern module used to analyze expression objects \tn 

% Row 
\SetRowColor{white}
ExprShape & Module to traverse expression trees with fewer active patterns \tn 

\hhline{>{\arrayrulecolor{DarkBackground}}--}
\end{tabularx}
\par\addvspace{1.3em}

\begin{tabularx}{5.377cm}{p{3 cm} x{1.977 cm} }
\SetRowColor{DarkBackground}
\mymulticolumn{2}{x{5.377cm}}{\bf\textcolor{white}{Asynchronous Workflows}}  \tn

% Row 
\SetRowColor{LightBackground}
async \{\} & Expressions in the curly braces become async \tn 

% Row 
\SetRowColor{white}
let! & Wait for the async task to return, similar to \textin{await} \tn 

% Row 
\SetRowColor{LightBackground}
Async.Start & Start a task asynchronously \tn 

% Row 
\SetRowColor{white}
Async.RunSynchronously & Block until all async events are completed \tn 

% Row 
\SetRowColor{LightBackground}
Async.Parallel & Run the tasks in parallel \tn 

% Row 
\SetRowColor{white}
CancellationTokenSource & Workflows can be cancelled by invoking the cancel token \tn 

\hhline{>{\arrayrulecolor{DarkBackground}}--}
\end{tabularx}
\par\addvspace{1.3em}

\begin{tabularx}{5.377cm}{p{2.1 cm} x{2.877 cm} }
\SetRowColor{DarkBackground}
\mymulticolumn{2}{x{5.377cm}}{\bf\textcolor{white}{Actor Model}}  \tn

% Row 
\SetRowColor{LightBackground}
MailBoxProcessor & Built in agent class \tn 

% Row 
\SetRowColor{white}
inbox.Receive() & Read a message \tn
 
% Row 
\SetRowColor{LightBackground}
agent.Post & Post a message \tn 
 
\hhline{>{\arrayrulecolor{DarkBackground}}--}
\end{tabularx}
\par\addvspace{1.3em}

\begin{tabularx}{5.377cm}{p{1.9 cm} x{3.077 cm} }
\SetRowColor{DarkBackground}
\mymulticolumn{2}{x{5.377cm}}{\bf\textcolor{white}{Useful Libraries}}  \tn

% Row 
\SetRowColor{LightBackground}
FSharp.Data & Providers forworking with structured data files formats (CSV, HTML, JSON, etc.) \tn 

% Row 
\SetRowColor{white}
FsUnit & Builds upon the .NET testing framework \tn
 
% Row 
\SetRowColor{LightBackground}
FSharp.Charting & Compositional library for creating charts \tn

\hhline{>{\arrayrulecolor{DarkBackground}}--}
\end{tabularx}
\par\addvspace{1.3em}
Copyright $\copyright$ \the\year by Tyler Berkshire.
% That's all folks
\end{multicols*}

\end{document}