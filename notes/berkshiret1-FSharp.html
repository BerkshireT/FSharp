<html>
<head>
<link rel="stylesheet" type="text/css" href="pl.css"/>
<title>Introduction to F#</title>
</head>

<body>

<table border="0" width="80%">
<tr>
<td>
   
<h1 align="center">Introduction to F#</h1>
<hr align="center" width="80%" size="10"/>

<b>Author:</b> Tyler Berkshire
<br><br>
<b>CPS 452:</b> Emerging Programming Languages, Fall 2019

<h2><hr align="left" width="40%"/>Brief History</h2>
<ul>

<li>Developed by F# Software Foundation, Microsoft, and open contributors</li>
<li>Member of the ML language family</li>
<li>Originally created by Don Syme from Microsoft Research in Cambridge, UK</li>
<li>Strong influences from C#, Python, Haskell, Scala, and Erlang</li>
<li>Created in 2005, large version updates yearly (currently 4.7 as of Sept. 2019)</li>


</ul>

<h2><hr align="left" width="40%"/>
Key language concepts in F#
<hr align="left" width="40%"/></h2>
<ul>

<li>Developed as a cross-platform Common Language Infrastructure (CLI) language</li>
   <ul>
      <li>The CLI is a standardized specification from Microsoft for use of languages on different platforms</li>
      <li>.NET Framework and .NET Core are examples of implementations of the CLI</li>
   </ul>
<li>Strongly typed (algebraic)</li>
<li>Multi-paradigm (Imperative, Object-Oriented, Functional) with an emphasis on Functional</li>
<li>Data is immutable</li>
<li>Functions are first-class</li>
<li>Pattern matching for control flow</li>
<li>Metaprogramming. F# is commonly used to generate:</li>
   <ul>
      <li>JavaScript code</li>
      <li>GPU code</li>
      <li>Other web framework code</li>
      <ul>
         <li>For example, in the WebSharper framework F# is executed as .NET code server-side and generates JavaScript for client-side</li>
      </ul>
   </ul>
<li>Eager evaluation with capability to lazily evaluate (yield)</li>
<li>Async workflows</li>
</ul>

<h2><hr align="left" width="40%"/>
Core F#
<hr align="left" width="40%"/></h2>
<ul>
<li><a href="#algebraic">Algebraic Types</a></li>
   <ul>
      <li>Defined from a combination of product and sum constructions</li>
      <li>Compound types are built by:</li>
      <ul>
         <li>A combination of values from a set of types (product)</li>
         <li>A disjoint union from a set of types (sum)</li>
      </ul>
   </ul>
<li><a href="#pattern">Pattern Matching</a></li>
   <ul>
      <li>Useful for edge cases and error handling</li>
      <li>Match with generic cases:</li>
      <pre>
match functionReturn with
   | Some returnValue -> printfn "We got a proper return of %A" returnValue
   | None -> printfn "We found an error case"
      </pre>
      <li>Match with specific cases:</li>
      <pre>
match list with
   | [] -> printfn "Empty list" // empty list
   | [x] -> printfn "Only %A" x // only one item in the list
   | x::y::tail -> // at least two items in the list
      printfn "First %A, Second %A, Tail %A" x y tail
      </pre>
   </ul>
<li><a href="#pcc">Piping, Composition, and Currying</a></li>
   <ul>
      <li>Piping is used for a sequence of operations (similar to UNIX)</li>
      <li>Composition calls two functions in a sequence and returns a new function (chaining)</li>
      <li>Currying creates a new function by applying 1 to N-1 args to a function of N args</li>
   </ul>
<li><a href="#acp">Asyncronous, Concurrent, and Parallel Programming</a></li>
   <ul>
      <li>Asynchronous workflows can be easily composed, scheduled and transformed with the <tt>Async</tt> module</li>
      <li>The actor model of concurrency is built in via <tt>MailboxProcessor</tt></li>
      <li>True CPU parallelism can be achieved using the .NET Task Parallel Library</li>
   </ul>
</ul>

<h2 id="algebraic"><hr align="left" width="40%"/>
Algebraic Types
<hr align="left" width="40%"/></h2>
<ul>
<li>F# has a mixture of types:</li>
   <ul>
      <li>Common .NET types (int, bool, string...)</li>
      <li>F# specific types (Lists, Records, Discriminated Unions...)</li>
   </ul>
<li>Advantages to using F# specific types when creating new types:</li>
   <ul>
      <li>Immutable</li>
      <li>Cannot be null</li>
      <li>Built-in equality and comparison</li>
      <li>Built-in pretty printing</li>
   </ul>
<li>New types are constructed using sum and product operations</li>
<li>An infinite number of new types can be made using these two operations, i.e. Absract Data Types (ADT)</li>
<li>Types cannot be declared inside of functions, only in namespaces or modules</li>
<li>Simple (record) type example:</li>
<pre>
open System
type Person<'a> = { FirstName: string; LastName: string; Weight: 'a }                           // quote denotes generic type
let main() =
   let Tyler = { FirstName = "Tyler"; LastName = "Berkshire"; Weight = 145 }                    // construct
   let TylerB = { FirstName = "Tyler"; LastName = "Berkshire"; Weight = "145" }   
   printfn "%s\'s last name is %s and weighs %A" Tyler.FirstName Tyler.LastName Tyler.Weight    // deconstruct
   printfn "%s\'s last name is %s and weighs %A" TylerB.FirstName TylerB.LastName TylerB.Weight 
   let { Weight = 145.50 } = Tyler                                                              // error: cannot change generic once assigned
</pre>
<li>Simple (discriminated union) type example:</li>
<pre>
type Tree<'a> = Leaf | T of Tree<'a> * 'a * Tree<'a>
let main() = 
   let leaf1 = T(Leaf)
   let leaf2 = T(Leaf)
   let tree = T(leaf1, "Tyler", leaf2)
</pre>
<li>Lists can only be of the same type</li>
<pre>
let list1 = [ 1; 2; 3; 4; 5 ]                     // list construction
let list2 = [ 1 .. 5 ]                            // using ranges
let list3 = 20 :: list2                           // cons
let list4 = list3 @ [ 6; 7; 8 ]                   // append
let list5 = [ for x in 1 .. 10 do yield (x * x) ] // generator comprehension (with lazy eval)
</pre>
<li>Tuples can be of mixed types</li>
<pre>
let tuple1 = ("CPS", 452)        // type string * int
let tuple2 = (452, "CPS")        // int * string /= string * int
fst tuple1                       // "CPS"
snd tuple1                       // 452
let tuple3 = ("CPS", 452, true)  // cannot use fst or snd on non-pair tuples
tuple3.GetHashCode()             // tuples can be used as dictionary keys w/ automatically defined hash values
</pre>
</ul>

<h2 id="pattern"><hr align="left" width="40%"/>
Pattern Matching
<hr align="left" width="40%"/></h2>
<ul>
<li></li>
<li></li>
</ul>

<h2 id="pcc"><hr align="left" width="40%"/>
Piping, Composition, and Currying
<hr align="left" width="40%"/></h2>
<ul>
<li>...</li>
<li>...</li>
</ul>

<h2 id="acp"><hr align="left" width="40%"/>
Asyncronous, Concurrent, and Parallel Programming
<hr align="left" width="40%"/></h2>
<ul>
<li>...</li>
<li>...</li>
</ul>

<h2><hr align="left" width="40%"/>
Exercises
<hr align="left" width="40%"/></h2>
<ul>
<li>...</li>
<li>...</li>
</ul>

<p><hr align="left" width="40%"/><a href="#top">Top</a></p>

<h2><hr align="left" width="40%"/>References</h2>

<ul>
<table>

<tr>
<td>
"<a href="https://en.wikipedia.org/wiki/F_Sharp_(programming_language)">F Sharp (programming language)</a>."
<i>Wikipedia: The Free Encyclopedia</i>. Wikimedia Foundation, Inc. 21 October 2019.
</td>
</tr>

<tr>
<td>
"<a href="https://docs.microsoft.com/en-us/dotnet/fsharp/">F# Guide</a>."
<i>Microsoft</i>. Microsoft, 08 February 2018.
</td>
</tr>

<tr>
<td>
“<a href="https://fsharp.org/">F# Software Foundation</a>.”
<i>F# Software Foundation</i>, F# Software Foundation, 2019.
</td>
</tr>

<tr>
<td>Syme, Don, et al.
"<a href="https://fsharp.org/specs/language-spec/4.1/FSharpSpec-4.1-latest.pdf">The F# 4.1 Language Specification</a>."
<i>F# Software Foundation</i>, 2016.
</td>
</tr>

<tr>
<td>W., Scott,
"<a href="https://fsharpforfunandprofit.com/posts/key-concepts/">Four Key Concepts</a>."
<i>fsharpforfunandprofit</i>, 06 April 2012.
</td>
</tr>

<!--
<tr>
<td valign="top">[EMLP]</td>
<td>J.D. Ullman.
<a href="http://infolab.stanford.edu/~ullman/emlp.html"><i>Elements
of ML Programming</i></a>.
-->
<!--
<i>Elements of ML Programming</i>.
Prentice Hall, Upper Saddle River, NJ, Second edition, 1997.</td>
</tr>
-->

</table>
</ul>

<hr align="center" width="80%" size="10"/>
<a href="index.html"><img src="http://academic.udayton.edu/SaverioPerugini/images/rh.jpg" alt="Return Home" border="0"/></a>
</td>
</tr>
</table>

</body>
</html>